function ItemLargeDescription(t){ItemList.call(this,t),this.pathSnippet=this.config.pathSnippet?this.config.pathSnippet:"../../src/ui/list-gallery/snippets/item-large-description.html",this.dataSnippet=[this.config.data.id,this.config.data.title,this.config.data.value]}function ItemList(t){this.config=t,this.container=this.config.container,this.itemWidth=this.config.itemWidth,this.itemHeight=this.config.itemHeight}function ItemPicture(t){ItemList.call(this,t),this.pathSnippet=this.config.pathSnippet?this.config.pathSnippet:"../../src/ui/list-gallery/snippets/item-picture.html",this.dataSnippet=[this.config.data.id,this.config.data.image,this.config.data.value]}function ItemShortDescription(t){ItemList.call(this,t),this.pathSnippet=this.config.pathSnippet?this.config.pathSnippet:"../../src/ui/list-gallery/snippets/item-short-description.html",this.dataSnippet=[this.config.data.id,this.config.data.title,this.config.data.value]}function ListGallery(t){this.config=t,this.container=this.config.container,this.pathSnippet="../../src/ui/list-gallery/snippets/list-gallery.html",this.items=[],this.lastItemHeight=0,this.itemWidth=200,this.itemHeight=230,this.padding=10,this.itemsToAdd=0}function Preloader(t){this.config=t,this.container=this.config.container,this.pathSnippet=this.config.pathSnippet?this.config.pathSnippet:"code/monkeyman/ui/preloader/snippets/preloader.html",this.dataSnippet=[],this.autoHeight=this.config.autoHeight?this.config.autoHeight:!0}function ItemSlider(t){this.config=t,this.container=this.config.container,this.pathSnippet=this.config.snippet,this.data=this.config.data,this.dataSnippet=[this.data.thumb]}function Slider(t){this.config=t,this.container=this.config.container,this.current=0,this.pathSnippet=this.config.snippet?this.config.snippet:"",this.pathItemSnippetSlider=this.config.itemSnippet?this.config.itemSnippet:"",this.pictures=this.config.pictures?this.config.pictures:[],this.dataSnippet=[]}function SliderWithThumbnails(t){Slider.call(this,t),this.marginThumbnails=t.marginThumbnails?t.marginThumbnails:0}function Toggle(t){this.config=t,this.container=this.config.container,this.pathSnippet=this.config.pathSnippet?this.config.pathSnippet:"code/Monkeyman/ui/toggle/snippets/toggle.html",this.state=this.config.state?this.config.state:!1,this.padding=5}inheritPrototype(ItemLargeDescription,ItemList),ItemLargeDescription.prototype.constructor=ItemLargeDescription,ItemLargeDescription.prototype.updateSize=function(){ItemList.prototype.updateSize.call(this);for(var t=0;t<this.childrens;t++){var i=$(this.node).find(".wrapper-data").children()[t];this.tempWrapperDataHeight+=$(i).height()}$(this.node).find(".wrapper-data").css({height:this.tempWrapperDataHeight})},ItemList.prototype.constructor=ItemList,ItemList.prototype.initialize=function(){var t=new Snippet({path:this.pathSnippet,data:this.dataSnippet});this.node=$.parseHTML(t.getSnippet()),this.container.append(this.node),$(this.node).css({width:this.itemWidth,height:this.itemHeight})},ItemList.prototype.updateSize=function(){this.tempHeight=$(this.node).height(),this.childrens=$(this.node).find(".wrapper-data").children().length,this.tempWrapperDataHeight=0},ItemList.prototype.destroy=function(){$(this.node).remove()},inheritPrototype(ItemPicture,ItemList),ItemPicture.prototype.constructor=ItemPicture,inheritPrototype(ItemShortDescription,ItemList),ItemShortDescription.prototype.constructor=ItemShortDescription,ItemShortDescription.prototype.updateSize=function(){ItemList.prototype.updateSize.call(this);for(var t=0;t<this.childrens;t++){var i=$(this.node).find(".wrapper-data").children()[t];this.tempWrapperDataHeight+=$(i).height()}$(this.node).find(".wrapper-data").css({height:this.tempWrapperDataHeight})},ListGallery.prototype.constructor=ListGallery,ListGallery.prototype.initialize=function(){var t=new Snippet({path:this.pathSnippet,data:[]});this.node=$.parseHTML(t.getSnippet()),this.container.append(this.node),$(window).resize({context:this},this.onResizeComponent)},ListGallery.prototype.onResizeComponent=function(t){t.data.context.arrange()},ListGallery.prototype.addNewItemByType=function(t){var i={container:$(this.node).find(".list-gallery"),pathSnippet:this.getItem(t.type),itemWidth:this.itemWidth,itemHeight:this.itemHeight,dataChild:$(this.node).find(".list-gallery li").length},e=this.getItem({type:t.type,data:i});e.initialize(),this.items.push(e),this.arrange()},ListGallery.prototype.addNewItem=function(t){var i={container:$(this.node).find(".list-gallery"),itemWidth:this.itemWidth,itemHeight:this.itemHeight,data:t},e=this.getItem({type:t.type,data:i});e.initialize(),this.items.push(e),this.arrange()},ListGallery.prototype.getItem=function(t){switch(t.type){case 1:return new ItemPicture(t.data);case 2:return new ItemShortDescription(t.data);case 3:return new ItemLargeDescription(t.data)}},ListGallery.prototype.addItems=function(t){this.removeAll(),t.forEach(function(t){this.addNewItem(t)},this)},ListGallery.prototype.addItemsByNumber=function(t){if(this.removeAll(),0==t)return!1;this.itemsToAdd=t;for(var i=0;i<this.itemsToAdd;i++){var e=new ItemList({container:$(this.node).find(".list-gallery"),itemWidth:this.itemWidth,itemHeight:this.itemHeight,dataChild:$(this.node).find(".list-gallery li").length});e.initialize(),this.items.push(e)}this.arrange()},ListGallery.prototype.removeItem=function(){if(0==this.items.length)return!1;var t=this.items[this.items.length-1];t.destroy(),this.items.splice(this.items.length-1,1),this.arrange()},ListGallery.prototype.removeAll=function(){$.each(this.items,function(t,i){i.destroy()}),this.items=[]},ListGallery.prototype.arrange=function(){var t=$(this.node).height(),i=$(this.node).width();this.newSize=this.getNewItemSize();var e=Math.floor(this.newSize.w),n=Math.floor(this.newSize.h);this.items.forEach(function(t,i){$(t.node).css({width:e,height:n}),this.tempItem=t},this);var s=$(this.node).find(".list-gallery li").length,h=Math.floor($(this.node).height()/n),o=s%h==0?s/h:(s-s%h)/h+1,a=e*o,r=n*h,p=i-a,c=t-r,d=Math.min(p,c),l=d==p?a:r,m=l==a?i:t,g=0==d?1:m/l;$(this.node).find(".list-gallery").css({width:a,left:i/2-a/2,top:t/2-r/2,"-webkit-transform":"scale("+g+")","-moz-transform":"scale("+g+")","-ms-transform":"scale("+g+")","-o-transform":"scale("+g+")",transform:"scale("+g+")"}),this.tempItem.updateSize()},ListGallery.prototype.getNewItemSize=function(){var t=this.getNewScale(1*$(this.node).height()/this.itemHeight),i=this.getNewSize(t),e=this.getNewSurface(i),n=this.getAvailableSpace()/e;return 1>n&&(t=this.getNewScale(t),i=this.getNewSize(t)),i},ListGallery.prototype.getNewScale=function(t){var i=this.getNewSize(t),e=this.getNewSurface(i),n=this.getAvailableSpace()/e,s=!1;if(n>1){var h=this.getNewSize(t),o=1,a=0;if(this.items.forEach(function(t,i){a+h.w<$(this.node).width()?a+=h.w:(a=h.w,o++)},this),o*h.h>$(this.node).height()){var r=Math.ceil($(this.node).width()/h.w),p=$(this.node).width()/r,c=p*t/h.w,d=Math.ceil($(this.node).width()/p),l=Math.ceil(this.items.length/r),i=Math.min($(this.node).width()/d,$(this.node).height()/l),m=i==$(this.node).width()/d?h.w:h.h;t=1==l?c:i*t/m}s=!0}return s?t:this.getNewScale(.99*t)},ListGallery.prototype.getNewSize=function(t){return{w:this.itemWidth*t,h:this.itemHeight*t}},ListGallery.prototype.getNewSurface=function(t){return t.w*t.h*this.items.length},ListGallery.prototype.getAvailableSpace=function(){var t=$(this.node).width()*$(this.node).height();return t},Preloader.prototype.constructor=Preloader,Preloader.prototype.initialize=function(){var t=new Snippet({path:this.pathSnippet,data:this.dataSnippet});this.node=$.parseHTML(t.getSnippet()),this.container.append(this.node),this.autoHeight&&$(this.node).css({height:$(document).height()})},Preloader.prototype.destroy=function(){$(this.node).remove()},ItemSlider.prototype.constructor=ItemSlider,ItemSlider.prototype.initialize=function(){var t=new Snippet({path:this.pathSnippet,data:this.dataSnippet});this.node=$.parseHTML(t.getSnippet()),this.container.append(this.node)},Slider.prototype.constructor=Slider,Slider.prototype.initialize=function(){var t=new Snippet({path:this.pathSnippet,data:this.dataSnippet});this.node=$.parseHTML(t.getSnippet()),this.container.append(this.node),this.addPictures(),$(this.node).width(this.config.width),this.setConfig(),this.configListeners()},Slider.prototype.addPictures=function(){this.pictures.length>0&&(this.pictures.forEach(function(t){var i=new ItemSlider({container:$(this.node).find(".content-slider-list"),snippet:this.pathItemSnippetSlider,data:t,path:this.path});i.initialize()},this),$(this.node).find(".content-slider-list li").length<=1&&$(this.node).find(".controls-slider").css({display:"none"}))},Slider.prototype.setConfig=function(){this.delay=this.config.delay?1e3*this.config.delay:3e3,this.hasTimer=0==this.config.delay?!1:!0,$(this.node).height(this.config.height),$(this.node).find(".content-slider-list").height(this.config.height),$(this.node).find(".controls-slider").width(this.config.width),this.max=$(this.node).find(".content-slider-list li").length,$(this.node).find(".content-slider-list").width(this.config.width*this.max),this.hasTimer&&this.startTimer()},Slider.prototype.startTimer=function(){this.timer=setTimeout(this.onTickTimer,this.delay,{context:this})},Slider.prototype.onTickTimer=function(t){t.context.goNext(),t.context.timer=setTimeout(t.context.onTickTimer,t.context.delay,{context:t.context})},Slider.prototype.configListeners=function(){$(this.node).find(".btn.prev").click({context:this},this.onClickPrev),$(this.node).find(".btn.next").click({context:this},this.onClickNext)},Slider.prototype.onClickPrev=function(t){t.data.context.goPrevious(),t.data.context.hasTimer&&(clearTimeout(t.data.context.timer),t.data.context.timer=setTimeout(t.data.context.onTickTimer,1e4,{context:t.data.context}))},Slider.prototype.goPrevious=function(){this.current<0?(this.current++,this.animate()):(this.current=-this.max+1,this.animate())},Slider.prototype.onClickNext=function(t){t.data.context.goNext(),t.data.context.hasTimer&&(clearTimeout(t.data.context.timer),t.data.context.timer=setTimeout(t.data.context.onTickTimer,1e4,{context:t.data.context}))},Slider.prototype.goNext=function(){Math.abs(this.current-1)<this.max?(this.current--,this.animate()):(this.current=0,this.animate())},Slider.prototype.getThumbPosition=function(){var t=this.current*this.config.width;return t},Slider.prototype.animate=function(){$(this.node).find(".content-slider-list").animate({left:this.getThumbPosition()},300,function(){})},SliderWithThumbnails.prototype.constructor=SliderWithThumbnails,inheritPrototype(SliderWithThumbnails,Slider),SliderWithThumbnails.prototype.init=function(){Slider.prototype.init.call(this)},SliderWithThumbnails.prototype.setConfig=function(){this.hasTimer=!1,$(this.node).find(".controls-slider").width(this.config.width),this.max=$(this.node).find(".content-thumbnails-list li").length,$(this.node).find(".content-thumbnails-list").width(this.config.widthThumbnail*this.max+this.max*(2*this.marginThumbnails)+12),$(this.node).find(".content-slider-list").width(this.config.width*this.max),$($(this.node).find(".content-thumbnails-list li")[this.current]).addClass("selected")},SliderWithThumbnails.prototype.configListeners=function(){Slider.prototype.configListeners.call(this),$(this.node).find(".content-slider-list li").click({context:this},this.onClickThumb),$(this.node).find(".content-thumbnails-list li").click({context:this},this.onClickThumbnail)},SliderWithThumbnails.prototype.animate=function(){Slider.prototype.animate.call(this),$(this.node).find(".content-thumbnails-list").animate({left:this.getThumbnailPosition()},300,function(){}),$(this.node).find(".content-thumbnails-list li").removeClass("selected"),$($(this.node).find(".content-thumbnails-list li")[Math.abs(this.current)]).addClass("selected")},SliderWithThumbnails.prototype.getThumbnailPosition=function(){var t=this.current*this.config.widthThumbnail+this.marginThumbnails;return t},SliderWithThumbnails.prototype.onClickThumb=function(t){t.data.context.config.parent&&t.data.context.config.parent.showThumb({path:$(this).data("path"),image:$(this).data("image")})},SliderWithThumbnails.prototype.onClickThumbnail=function(t){t.data.context.current=$(this).index()>t.data.context.current?-$(this).index():Math.abs($(this).index()),t.data.context.animate()},Toggle.prototype.constructor=Toggle,Toggle.prototype.initialize=function(){var t=new Snippet({path:this.pathSnippet,data:[]});this.node=$.parseHTML(t.getSnippet()),this.container.append(this.node),$(this.node).click({context:this},this.onChangeState)},Toggle.prototype.onChangeState=function(t){var i=t.data.context;i.state=i.state?!1:!0,i.onSwitch()},Toggle.prototype.onSwitch=function(){$(this.node).find(".toggle-btn").animate({left:this.state?$(this.node).width()-$(this.node).find(".toggle-btn").width()-this.padding:this.padding},200,function(){})},Toggle.prototype.showState=function(){var t=this.state?"active":"inactive",i=this.state?"inactive":"active";$(this.node).removeClass(i),$(this.node).addClass(t)};